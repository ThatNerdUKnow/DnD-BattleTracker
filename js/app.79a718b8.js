(function(t){function e(e){for(var n,i,o=e[0],c=e[1],u=e[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},r={app:0},a=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"03d6":function(t,e,s){"use strict";s("7ac5")},2933:function(t,e,s){"use strict";s("f0df")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-3 container",attrs:{id:"app"}},[s("span",{staticClass:"row"},[t.sidebarVisible?s("sidebar",{staticClass:"col-12 pb-3",attrs:{monsters:t.monsters},on:{addMonster:function(e){return t.addMonster(e)}}}):t._e(),s("encounter",{staticClass:"col-12 p-3",attrs:{id:"encounter",monsters:t.encounter},on:{remove:function(e){return t.remove(e)}}})],1)])},a=[],i=s("1da1"),o=s("5530"),c=(s("96cf"),s("4de4"),s("159b"),s("4fad"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" g-0"},[s("form",{on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search for a monster ðŸ”Ž"},domProps:{value:t.searchTerm},on:{blur:function(e){return t.toggleSearch(!1)},focus:function(e){return t.toggleSearch(!0)},input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}})]),t.showSearch?s("div",{staticClass:"w-100 overflow-auto no-gutter",attrs:{id:"content"},on:{mouseout:function(e){return t.resultsToggle(!1,e)},mouseover:function(e){return t.resultsToggle(!0,e)}}},t._l(t.monsters,(function(e){return s("ul",{key:e.id,staticClass:"list-group"},[e.name.toLowerCase().includes(t.searchTerm.toLowerCase())?s("li",{staticClass:"list-group-item"},[s("minimonster",{attrs:{monster:e},on:{add:function(e){return t.addMonster(e)}}})],1):t._e()])})),0):t._e()])}),u=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between"},[s("h5",{staticClass:"col"},[t._v(t._s(t.monster.name))]),s("div",{staticClass:"col"},[t._v("CR: "+t._s(t.monster.cr))]),s("div",{staticClass:"btn btn-outline-success",on:{click:function(e){return t.add()}}},[t._v("Add")])])},m=[],d={name:"minimonster",props:{monster:Object},methods:{add:function(){this.$emit("add",this.monster)}}},h=d,f=s("2877"),p=Object(f["a"])(h,l,m,!1,null,null,null),v=p.exports,_={name:"sidebar",data:function(){return{searchTerm:"",searchFocus:!1,resultsFocus:!1}},props:{monsters:Array},components:{minimonster:v},computed:{showSearch:function(){return!(!this.searchFocus&&!this.resultsFocus)}},methods:{addMonster:function(t){this.$emit("addMonster",t)},toggleSearch:function(t){this.searchFocus=t},resultsToggle:function(t,e){if("mouseout"==e.type){var s=document.getElementById("content");if(s.contains(e.relatedTarget))return}this.resultsFocus=t}}},g=_,b=(s("03d6"),Object(f["a"])(g,c,u,!1,null,"7a23353e",null)),C=b.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-light h-100"},[s("h2",[t._v("Encounter")]),s("div",[s("h4",[t._v("XP: "+t._s(t.totalXP)+"x("+t._s(t.multiplier)+") = ("+t._s(t.totalXP*t.multiplier)+"XP)")])]),s("div",{attrs:{id:"encounter"}},[s("div",{staticClass:"h-100 overflow-auto row p-2"},t._l(t.chunk,(function(e){return s("div",{key:t.chunk.indexOf(e),staticClass:"col-lg"},t._l(e,(function(e){return s("monster",{key:e.n,attrs:{monster:e},on:{remove:function(e){return t.remove(e)}}})})),1)})),0)])])},w=[],k=s("2909"),x=(s("a434"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{KO:this.KO},attrs:{id:t.monster.n,"data-class":"animate__animated animate__fadeInUp"}},[s("div",{staticClass:"card m-m-3 mb-3 shadow-lg"},[s("span",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("img",{staticClass:"monsterToken img-fluid",attrs:{alt:"",src:t.image}}),s("div",{staticClass:"col-xl-6"},[s("h2",[t._v(t._s(t.monster.name))]),t.monster.hp.average?s("div",[s("strong",[t._v("HP: "+t._s(this.HP)+" ")]),s("div",{staticClass:"progress p-0 w-100"},[s("div",{staticClass:"progress-bar bg-danger",style:"width: "+this.HP/t.monster.hp.average*100+"%",attrs:{role:"progressbar"}})]),s("form",{staticClass:"my-2",attrs:{id:"formControls"},on:{submit:function(t){t.preventDefault()}}},[s("div",{},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"btn btn-danger col",on:{click:function(e){return t.hurt()}}},[t._v("Hurt")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.damage,expression:"damage"}],staticClass:"form-control col-auto",attrs:{type:"number",min:"0",max:t.monster.hp.average},domProps:{value:t.damage},on:{input:function(e){e.target.composing||(t.damage=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("div",{staticClass:"btn btn-success",on:{click:function(e){return t.heal()}}},[t._v(" Heal ")])])])])])]):t._e(),t.monster.hp.special||t.monster.hp.lair?s("div",[t._v(" HP: "+t._s(t.monster.hp.special||t.monster.hp.lair)+" ")]):t._e(),s("span",{staticClass:"btn btn-outline-danger btn-sm mr-2",on:{click:function(e){return t.remove()}}},[t._v("Remove")]),t._v(" Source: "),s("div",{staticClass:"badge bg-primary"},[t._v(t._s(t.monster.source))])]),s("div",{staticClass:"col-lg-6 my-3"},[s("div",{staticClass:"btn btn-primary btn-sm mb-3",on:{click:function(e){return t.toggleStats()}}},[t._v(" "+t._s(t.showStats?"Hide":"Show")+" Stats ")]),s("br"),t.armorClass?s("span",{staticClass:"h3 p-3",attrs:{id:"armorClass"}},[s("span",{},[t._v(" "+t._s(t.armorClass)+" ")])]):t._e()])])]),t.showStats?s("div",{staticClass:"stats card-body float-left animate__animated animate__fadeIn"},[s("h4",[t._v("Stats")]),s("table",{staticClass:"table"},[t._m(0),s("tr",[s("td",[t._v(t._s(t.monster.str)+"("+t._s(this.modifiers.str>=0?"+"+this.modifiers.str:this.modifiers.str)+")")]),s("td",[t._v(t._s(t.monster.dex)+"("+t._s(this.modifiers.dex>=0?"+"+this.modifiers.dex:this.modifiers.dex)+")")]),s("td",[t._v(t._s(t.monster.con)+"("+t._s(this.modifiers.con>=0?"+"+this.modifiers.con:this.modifiers.con)+")")]),s("td",[t._v(t._s(t.monster.int)+"("+t._s(this.modifiers.int>=0?"+"+this.modifiers.int:this.modifiers.int)+")")]),s("td",[t._v(t._s(t.monster.wis)+"("+t._s(this.modifiers.wis>=0?"+"+this.modifiers.wis:this.modifiers.wis)+")")]),s("td",[t._v(t._s(t.monster.cha)+"("+t._s(this.modifiers.cha>=0?"+"+this.modifiers.cha:this.modifiers.cha)+")")])])]),t.monster.skill?s("div",[t._v(" Skills: "),t._l(Object.entries(t.monster.skill),(function(e){return s("span",{key:e[0]},[s("span",{staticClass:"m-1 badge bg-info text-dark"},[t._v(t._s(e[0])+" "+t._s(e[1]))])])}))],2):t._e(),t.monster.senses?s("div",[t._v(" Senses: "),t._l(t.monster.senses,(function(e){return s("span",{key:e},[s("span",{staticClass:"m-1 badge bg-warning text-dark"},[t._v(t._s(e))])])}))],2):t._e(),t.monster.languages?s("div",[t._v(" Languages: "),t._l(t.monster.languages,(function(e){return s("span",{key:e},[s("span",{staticClass:"mx-1 badge bg-primary"},[t._v(t._s(e)+" ")])])}))],2):t._e(),t.monster.resist?s("div",[t._v(" Resistances: "),t._l(t.monster.resist,(function(e){return s("span",{key:e,staticClass:"mx-1 badge bg-danger"},[t._v(t._s(e))])}))],2):t._e(),t.monster.vulnerable?s("div",[t._v(" Vulnerabilities: "),t._l(t.monster.vulnerable,(function(e){return s("span",{key:e,staticClass:"mx-1 badge bg-success"},[t._v(t._s(e))])}))],2):t._e(),t.monster.trait?s("div",[s("hr"),s("h3",[t._v("Traits:")]),t._l(t.monster.trait,(function(e){return s("div",{key:e.name},[s("span",{staticClass:"badge bg-primary mx-1"},[t._v(t._s(e.name))]),t._l(e.entries,(function(e){return s("span",{key:e,staticClass:"info"},[t._v(t._s(t.parse(e)))])}))],2)}))],2):t._e(),t.monster.action?s("div",[s("hr"),s("h3",[t._v("Actions")]),t._l(t.monster.action,(function(e){return s("div",{key:e.name},[s("span",{staticClass:"badge bg-primary mx-1"},[t._v(t._s(e.name))]),t._l(e.entries,(function(e){return s("span",{key:e,staticClass:"info"},[t._v(t._s(t.parse(e)))])}))],2)}))],2):t._e(),t.monster.legendary?s("div",[s("hr"),s("h3",[t._v("Legendary Actions")]),t._l(t.monster.legendary,(function(e){return s("div",{key:e.name},[s("span",{staticClass:"badge bg-primary mx-1"},[t._v(t._s(e.name))]),t._l(e.entries,(function(e){return s("span",{key:e,staticClass:"info"},[t._v(t._s(t.parse(e)))])}))],2)}))],2):t._e()]):t._e()])])}),O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",[t._v("STR")]),s("th",[t._v("DEX")]),s("th",[t._v("CON")]),s("th",[t._v("INT")]),s("th",[t._v("WIS")]),s("th",[t._v("CHA")])])}],j=(s("b0c0"),s("a9e3"),s("a1f0"),s("ac1f"),s("5319"),s("1276"),s("a15b"),s("fa7d")),P={name:"monster",props:{monster:Object},mounted:function(){console.log(this.monster)},data:function(){return{HP:this.monster.hp.average,damage:0,image:"https://5e.tools/img/"+this.monster.source+"/"+this.monster.name+".png",regex:/{@[^{@}]+}/g,showStats:!1,armorClass:this.monster.ac[0].ac||this.monster.ac[0]}},computed:{modifiers:function(){var t=Math.floor((this.monster.str-10)/2),e=Math.floor((this.monster.dex-10)/2),s=Math.floor((this.monster.con-10)/2),n=Math.floor((this.monster.int-10)/2),r=Math.floor((this.monster.wis-10)/2),a=Math.floor((this.monster.cha-10)/2);return{str:t,dex:e,con:s,int:n,wis:r,cha:a}},KO:function(){return 0===this.HP}},methods:{hurt:function(){this.damage>this.HP?this.HP=0:this.HP=this.HP-this.damage,this.cleanup()},toggleStats:function(){this.showStats=!this.showStats},heal:function(){var t=this.monster.hp.average-this.HP;this.damage>t?this.HP=this.monster.hp.average:this.HP=this.HP+Number(this.damage),this.cleanup()},cleanup:function(){this.damage=0},remove:function(){this.$emit("remove",this.monster.n)},parse:function(t){var e=[];try{e=Object(k["a"])(t.matchAll(this.regex))}catch(n){console.log(n),console.log(t),e=[]}var s=t;return e&&e.forEach((function(t){var e=t["0"];e=e.replace(/{|}/g,"");var n=e.split(" "),r=n[0];n.shift();var a="";switch(r){case"@hit":a="+ "+n.join();break;case"@atk":a=j["attackTypes"][n.join("")];break;default:a=n.join(" ")}s=s.replace(t,a)})),s}}},S=P,M=(s("2933"),Object(f["a"])(S,x,O,!1,null,"2da5b9a3",null)),T=M.exports,H=s("2f24"),A={name:"encounter",components:{monster:T},props:{monsters:Array},methods:{remove:function(t){this.$emit("remove",t)}},computed:{combatRating:function(){var t=0;return this.monsters.forEach((function(e){t+=H.Parser.crToNumber(e.cr)})),t},chunk:function(){var t=Math.ceil(this.monsters.length/2),e=Object(k["a"])(this.monsters),s=[];return s.push(e.splice(0,t)),s.push(e.splice(-t)),s},totalXP:function(){var t=0;return this.monsters.forEach((function(e){if(e.cr){var s=j["xpChart"][e.cr];t+=s}})),t},multiplier:function(){var t=this.monsters.length,e=Object(j["xpMultiplier"])(t);return e}}},E=A,R=(s("a882"),Object(f["a"])(E,y,w,!1,null,"1557e568",null)),$=R.exports,F=s("ec26"),N="https://5e.tools/data/bestiary/",X=s("bc3a"),I={name:"App",components:{sidebar:C,encounter:$},data:function(){return{monsters:[],encounter:[],sidebarVisible:!0}},methods:{addMonster:function(t){t.n=Object(F["a"])(),this.encounter.push(Object(o["a"])({},t))},remove:function(t){this.encounter=this.encounter.filter((function(e){return e.n!=t}))},toggleSidebar:function(){this.sidebarVisible=!this.sidebarVisible}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=N+"index.json",e.next=3,X.get(s).then((function(e){Object.entries(e.data).forEach((function(e){X.get(N+e[1]).then((function(e){e.data.monster.forEach((function(e){e.id=Object(F["a"])();try{e.hp&&t.monsters.push(e)}catch(s){console.log(s,e)}}))}))}))}));case 3:case"end":return e.stop()}}),e)})))()}},V=I,L=(s("034f"),Object(f["a"])(V,r,a,!1,null,null,null)),W=L.exports;s("7b17"),s("f9e3"),s("77ed"),s("c93b");n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(W)}}).$mount("#app")},"7ac5":function(t,e,s){},"85ec":function(t,e,s){},a882:function(t,e,s){"use strict";s("cc72")},c93b:function(t,e,s){},cc72:function(t,e,s){},f0df:function(t,e,s){},fa7d:function(t,e){var s={m:"Melee Attack",r:"Ranged Attack","m,r":"Melee or Ranged Attack",mw:"Melee Weapon Attack",rw:"Ranged Weapon Attack",ms:"Melee Spell Attack",rs:"Ranged Spell Attack","mw,rw":"Melee/Ranged Weapon"},n={0:10,"1/8":25,"1/4":50,"1/2":100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:13e3,17:15e3,18:18e3,19:2e4,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3};function r(t){var e={0:0,1:1,2:1.5,"3-6":2,"7-10":2.5,"11-14":3,"15+":4};return 0==t?e["0"]:1==t?e["1"]:2==t?e["2"]:t>=3&&t<=6?e["3-6"]:t>=7&&t<=10?e["7-10"]:t>=11&&t<=14?e["11-14"]:t>=15?e["15+"]:void 0}t.exports={attackTypes:s,xpChart:n,xpMultiplier:r}}});
//# sourceMappingURL=app.79a718b8.js.map